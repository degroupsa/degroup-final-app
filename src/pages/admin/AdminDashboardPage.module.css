/* src/pages/admin/AdminDashboardPage.module.css */

.kpiGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
  gap: 1.5rem;
  margin-bottom: 2.5rem;
}

.pageContent h1 {
  margin-bottom: 0.5rem;
  text-align: center;
}

.subtitle {
  text-align: center;
  margin-top: 0;
  color: #6c757d;
  margin-bottom: 2rem;
}

.mainChartsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.dualPieChartContainer {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.bottomWidgetsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2.5rem;
}

.card { /* Estilo general para contenedores de gráficos/widgets */
  background: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
}

/* Específico para los contenedores de gráficos */
.chartContainer { 
  background: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
  
  /* --- ▼▼▼ ARREGLO 1: EVITAR DESBORDAMIENTO DEL CONTENEDOR ▼▼▼ --- */
  /* Esto asegura que la tarjeta no intente ser más ancha que la pantalla */
  max-width: 100%;
  overflow-x: hidden; 
  /* --- ▲▲▲ FIN ARREGLO 1 ▲▲▲ --- */
}

.chartContainer h3 {
  margin-top: 0;
  text-align: center;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
  color: #495057;

  /* --- ▼▼▼ ARREGLO 2: EVITAR DESBORDAMIENTO DEL TEXTO ▼▼▼ --- */
  /* Si el título es muy largo, se romperá en dos líneas */
  overflow-wrap: break-word;
  word-wrap: break-word;
  /* --- ▲▲▲ FIN ARREGLO 2 ▲▲▲ --- */
}

.chartWrapper {
  flex-grow: 1;
  position: relative;
  min-height: 300px; /* Altura mínima para los gráficos */

  /* --- ▼▼▼ ARREGLO 3: FORZAR AL GRÁFICO A ADAPTARSE ▼▼▼ --- */
  /* El gráfico (canvas) se adaptará al 100% del ancho de este div,
     y si es muy ancho, permitirá scroll HORIZONTAL SÓLO DENTRO del gráfico.
  */
  max-width: 100%;
  overflow-x: auto; 
  /* --- ▲▲▲ FIN ARREGLO 3 ▲▲▲ --- */
}

.divider {
  border: none;
  height: 1px;
  background-color: #dee2e6;
  margin: 2.5rem 0;
}

/* Contenedor para FinancialManager y QuoteRequestsWidget al final */
.bottomWidgetsContainer {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Media query para asegurar que en pantallas muy grandes no se vean demasiados KPIs por fila */
@media (min-width: 1600px) {
  .kpiGrid {
    grid-template-columns: repeat(5, 1fr); /* Máximo 5 por fila */
  }
}

/* --- ▼▼▼ Arreglo Responsive (MODIFICADO) ▼▼▼ --- */
/* (Este bloque ya lo tenías, lo dejamos igual) */

@media (max-width: 992px) {
  .mainChartsGrid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
}

@media (max-width: 768px) {
  .kpiGrid,
  .mainChartsGrid,
  .dualPieChartContainer,
  .bottomWidgetsGrid {
    grid-template-columns: 1fr; 
    gap: 1.5rem;
  }

  .chartContainer,
  .card {
    padding: 1rem;
  }

  .dualPieChartContainer .chartWrapper {
    min-height: 280px; 
  }

  .mainChartsGrid .chartWrapper,
  .bottomWidgetsGrid .chartWrapper {
    min-height: 320px;
  }

  .pageContent h1 {
    font-size: 1.8rem;
  }

  .subtitle {
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
  }

  /* --- ▼▼▼ NUEVA REGLA DENTRO DEL MEDIA QUERY ▼▼▼ --- */
  /* Esto es extra, para asegurar que los gráficos de barra 
     tengan scroll en móvil si es necesario */
  .chartWrapper {
    overflow-x: auto;
  }
  /* --- ▲▲▲ FIN NUEVA REGLA ▲▲▲ --- */
}
/* --- ▲▲▲ FIN Arreglo Responsive ▲▲▲ --- */